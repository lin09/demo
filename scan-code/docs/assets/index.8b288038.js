import{d as F,r as i,B as b,c as d,a as n,t as v,F as h,b as k,o as f,e as D}from"./vendor.6b663860.js";const B=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function c(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(e){if(e.ep)return;e.ep=!0;const t=c(e);fetch(e.href,t)}};B();const C=n("span",{style:{margin:"8px"}},null,-1),L={class:"media"},x={class:"err"},A=F({setup(_){const s=i(),c=i(),l=i(""),e=i(""),t=i([]),r=new b;r.listVideoInputDevices().then(o=>{if(c.value=o,o.length){const u=o.find(a=>/back|0/.test(a.label))||o[o.length-1];l.value=u.deviceId}else alert("\u52A0\u8F7D\u6444\u50CF\u5934\u9519\u8BEF")}).catch(o=>{t.value=["\u52A0\u8F7D"+o]});const p=()=>{r.reset(),t.value=[]},m=()=>{r.decodeFromVideoDevice(l.value,s.value,(o,u)=>{o&&(e.value=o.getText()),u&&t.value.push(u.message)})},g=()=>{p(),m()};return(o,u)=>(f(),d(h,null,[n("p",null,[n("button",{onClick:m},"\u626B\u7801"),C,n("button",{onClick:p},"\u5173\u95ED")]),n("p",null,v(e.value),1),n("div",L,[n("div",null,[n("video",{ref_key:"videoRef",ref:s,width:"300",height:"200",style:{border:"1px solid gray"}},null,512)]),n("p",null,[n("button",{onClick:g},"\u5207\u6362\u6444\u50CF\u5934")])]),n("div",x,[(f(!0),d(h,null,k(t.value,(a,y)=>(f(),d("p",{key:y},v(a),1))),128))])],64))}});D(A).mount("#app");
